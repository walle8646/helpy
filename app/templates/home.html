{% extends "base.html" %}

{% block title %}Helpy - Get Advice from People Who Can Help{% endblock %}

{% block content %}
    <!-- Hero Section -->
    <section class="hero">
        {% if user %}
            <!-- Utente loggato: solo testo -->
            <div class="hero-content">
                <h1 class="hero-title">Welcome back, {{ user.nome or user.email.split('@')[0] }}! üëã</h1>
                <p class="hero-desc">Ready to connect with experts?</p>
                <a href="/consultants" class="hero-btn">Browse Consultants</a>
            </div>
        {% else %}
            <!-- Utente NON loggato: layout originale con immagine a destra -->
            <div class="hero-content">
                <h1 class="hero-title">Get advice from people who can help</h1>
                <p class="hero-desc">Connect with others, share knowledge, and receive personalized consultations for a fee.</p>
                <a href="/register" class="hero-btn">Join Now</a>
            </div>
            {% if hero_img_url %}
            <img class="hero-img" src="{{ hero_img_url }}" alt="Helpy Network">
            {% endif %}
        {% endif %}
    </section>

    <!-- How Helpy Works -->
    <section class="how-works">
        <div class="how-title">How Helpy Works</div>
        <div class="how-steps">
            <div class="how-step">
                <div class="how-icon">üîç</div>
                <div class="how-step-title">Find Consultants</div>
                <div class="how-step-desc">
                    Browse through a range of knowledge consultations across various fields.
                </div>
            </div>
            <div class="how-step">
                <div class="how-icon">üí¨</div>
                <div class="how-step-title">Request a Consultation</div>
                <div class="how-step-desc">
                    Describe your needs and submit a request to find the right consultant.
                </div>
            </div>
            <div class="how-step">
                <div class="how-icon">üìπ</div>
                <div class="how-step-title">Get Personalized Advice</div>
                <div class="how-step-desc">
                    Schedule a session and receive customized guidance via video.
                </div>
            </div>
        </div>
    </section>

    <!-- Featured Consultants Section -->
    <section class="featured">
        <h2 class="featured-title">I Nostri Top Consulenti</h2>
        
        <div class="consultant-grid">
            {% for item in consultants %}
            <a href="/user/{{ item.user.id }}" class="consultant-card">
                {% if item.user.profile_picture %}
                <img src="{{ item.user.profile_picture }}" alt="{{ item.user.nome }}" class="consultant-avatar">
                {% else %}
                <div class="consultant-avatar-default">
                    {{ item.category.icon if item.category else 'üë§' }}
                </div>
                {% endif %}
                
                <h3>{{ item.user.nome }}</h3>
                <p class="consultant-profession">{{ item.user.professione or 'Consulente' }}</p>
                
                {% if item.category %}
                <span class="consultant-category" style="background: {{ item.category.color }}20; color: {{ item.category.color }};">
                    {{ item.category.icon }} {{ item.category.name }}
                </span>
                {% endif %}
                
                <div class="consultant-stats">
                    <span>‚≠ê {{ item.user.bollini }} Bollini</span>
                    <span>üíº {{ item.user.consulenze_vendute }} Consulenze</span>
                </div>
                
                {% if item.user.prezzo_consulenza %}
                <div class="consultant-price">
                    üí∞ ‚Ç¨{{ item.user.prezzo_consulenza }}/ora
                </div>
                {% endif %}
            </a>
            {% endfor %}
        </div>
        
        <div style="text-align: center; margin-top: 48px;">
            <a href="/consultants" class="hero-btn">Vedi Tutti i Consulenti ‚Üí</a>
        </div>
    </section>
{% endblock %}