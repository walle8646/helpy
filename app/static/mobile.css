/* ========================================
   ðŸ“± MOBILE OPTIMIZATION - GLOBAL STYLES
   ======================================== */

/* ========== BASE MOBILE SETTINGS ========== */
@media (max-width: 768px) {
    /* Reset body padding per navbar NON fissa */
    html, body {
        overflow-x: hidden !important;
        width: 100% !important;
        max-width: 100vw !important;
    }

    body {
        padding-top: 0 !important; /* CAMBIATO da 70px */
        font-size: 16px;
        box-sizing: border-box !important;
    }

    /* Container generici */
    .container,
    .main-container,
    .profile-container,
    .consultants-container {
        padding: 0 16px !important;
        margin-top: 0 !important;
    }

    /* Grid layouts â†’ colonna singola */
    .grid,
    [class*="-grid"],
    [style*="display: grid"],
    [style*="display:grid"] {
        grid-template-columns: 1fr !important;
        gap: 16px !important;
    }

    /* Flex layouts â†’ colonna */
    .row,
    [class*="-row"] {
        flex-direction: column !important;
        gap: 16px !important;
    }

    /* Cards: padding ridotto */
    .card,
    [class*="-card"] {
        padding: 20px !important;
        margin-bottom: 16px !important;
        border-radius: 12px !important;
    }

    /* Headers/Titoli */
    h1 {
        font-size: 1.5em !important;
        line-height: 1.3 !important;
    }

    h2 {
        font-size: 1.3em !important;
        line-height: 1.3 !important;
    }

    h3 {
        font-size: 1.1em !important;
        line-height: 1.3 !important;
    }

    /* Paragrafi */
    p {
        font-size: 1em !important;
        line-height: 1.6 !important;
    }

    /* Liste */
    ul, ol {
        padding-left: 20px !important;
    }

    li {
        margin-bottom: 8px !important;
        line-height: 1.5 !important;
    }

    /* Immagini responsive */
    img {
        max-width: 100% !important;
        height: auto !important;
    }

    /* Tabelle responsive */
    table {
        display: block !important;
        overflow-x: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }
}

/* ========== BUTTONS & LINKS ========== */
@media (max-width: 768px) {
    /* Touch targets: minimo 44x44px */
    .btn,
    .hero-btn,
    .btn-primary,
    .btn-secondary,
    .btn-edit,
    button[type="submit"],
    a[class*="btn"],
    [class*="-btn"] {
        min-height: 44px !important;
        width: 100% !important;
        padding: 14px 24px !important;
        font-size: 1em !important;
        text-align: center !important;
        display: inline-flex !important;
        align-items: center !important;
        justify-content: center !important;
        margin-bottom: 8px !important;
        touch-action: manipulation !important;
        -webkit-user-select: none !important;
        user-select: none !important;
        -webkit-tap-highlight-color: transparent !important;
    }

    /* Link normali */
    a {
        min-height: 44px !important;
        display: inline-flex !important;
        align-items: center !important;
    }
}

/* ========== FORMS ========== */
@media (max-width: 768px) {
    /* Input fields */
    input[type="text"],
    input[type="email"],
    input[type="password"],
    input[type="number"],
    input[type="tel"],
    input[type="url"],
    textarea,
    select {
        width: 100% !important;
        padding: 14px !important;
        font-size: 16px !important; /* Previene zoom iOS */
        border-radius: 8px !important;
        margin-bottom: 16px !important;
    }

    /* Labels */
    label {
        font-size: 0.95em !important;
        margin-bottom: 8px !important;
        display: block !important;
    }

    /* Form groups */
    .form-group,
    [class*="-group"] {
        margin-bottom: 20px !important;
    }

    /* Search forms */
    .search-form,
    [class*="search"] input {
        width: 100% !important;
    }

    .search-form button {
        width: 100% !important;
        margin-top: 12px !important;
    }
}

/* ========== NAVIGATION ========== */
@media (max-width: 768px) {
    /* Navbar: layout mobile */
    nav,
    .navbar,
    header.navbar {
        padding: 12px 16px !important;
    }

    .nav-links,
    [class*="nav-"] ul {
        flex-direction: column !important;
        width: 100% !important;
        gap: 8px !important;
    }

    .nav-links a,
    [class*="nav-"] a {
        padding: 12px 16px !important;
        width: 100% !important;
    }

    /* Logo */
    .logo,
    [class*="logo"] {
        max-width: 120px !important;
    }
}

/* ========== SIDEBAR ========== */
@media (max-width: 768px) {
    /* Sidebar: passa sotto il contenuto */
    .sidebar,
    aside,
    [class*="sidebar"] {
        order: 2 !important;
        max-width: 100% !important;
        position: static !important;
        margin-top: 16px !important;
    }

    /* Main content: full width */
    .main-content,
    main,
    [class*="main-"] {
        max-width: 100% !important;
        order: 1 !important;
    }
}

/* ========== PROFILE PAGES ========== */
@media (max-width: 768px) {
    /* Cover images */
    .cover-image,
    [class*="cover"] {
        height: 120px !important;
        border-radius: 12px 12px 0 0 !important;
    }

    /* Profile headers */
    .profile-header {
        flex-direction: column !important;
        text-align: center !important;
        padding: 20px !important;
        gap: 16px !important;
    }

    /* Avatars */
    .profile-avatar-large,
    [class*="avatar"] {
        width: 100px !important;
        height: 100px !important;
        font-size: 3em !important;
        margin: -50px auto 0 !important;
    }

    /* Stats */
    .stat-item,
    [class*="stat-"] {
        padding: 16px !important;
        text-align: center !important;
    }

    .stat-value {
        font-size: 1.8em !important;
    }

    .stat-label {
        font-size: 0.9em !important;
    }

    /* Skills/Tags */
    .skill-tag,
    .category-badge,
    [class*="tag"] {
        font-size: 0.85em !important;
        padding: 6px 12px !important;
    }

    .skills-container,
    [class*="skills"] {
        gap: 8px !important;
        flex-wrap: wrap !important;
    }
}

/* ========== CONSULTANT GRID ========== */
@media (max-width: 768px) {
    /* Grid consulenti: 1 colonna */
    .consultants-grid,
    .consultant-grid,
    [class*="consultant"][class*="grid"] {
        grid-template-columns: 1fr !important;
        gap: 16px !important;
    }

    /* Card consulente */
    .consultant-card {
        padding: 20px !important;
    }

    .consultant-avatar,
    .consultant-avatar-default {
        width: 80px !important;
        height: 80px !important;
        font-size: 2.5em !important;
    }

    /* Stats consulente */
    .consultant-stats {
        flex-direction: column !important;
        gap: 8px !important;
    }
}

/* ========== FILTERS & SEARCH ========== */
@media (max-width: 768px) {
    /* Sidebar filtri */
    .filters-sidebar {
        width: 100% !important;
        position: static !important;
        margin-bottom: 16px !important;
    }

    /* Search hero */
    .search-hero {
        padding: 32px 16px !important;
    }

    .search-container {
        max-width: 100% !important;
    }

    .search-hero h1 {
        font-size: 1.5em !important;
    }

    /* Search suggestions */
    .search-suggestions,
    .search-tags {
        flex-wrap: wrap !important;
        gap: 8px !important;
        justify-content: center !important;
    }

    .search-tag,
    .price-tag {
        font-size: 0.85em !important;
        padding: 6px 12px !important;
    }

    /* Price filters */
    .price-inputs-vertical {
        flex-direction: column !important;
        gap: 12px !important;
    }

    .price-input-wrapper {
        width: 100% !important;
    }
}

/* ========== MODALS ========== */
@media (max-width: 768px) {
    /* Modal container */
    .modal {
        padding: 20px !important;
    }

    .modal-content {
        width: 95% !important;
        max-width: 100% !important;
        padding: 24px !important;
        border-radius: 12px !important;
    }

    .modal h2 {
        font-size: 1.3em !important;
    }

    /* Close button */
    .close-modal,
    [class*="close"] {
        font-size: 1.5em !important;
        padding: 8px !important;
    }
}

/* ========== PAGINATION ========== */
@media (max-width: 768px) {
    .pagination {
        flex-wrap: wrap !important;
        gap: 8px !important;
        justify-content: center !important;
    }

    .page-number,
    .page-btn {
        min-width: 44px !important;
        min-height: 44px !important;
        padding: 10px !important;
        font-size: 0.9em !important;
    }
}

/* ========== HERO SECTIONS ========== */
@media (max-width: 768px) {
    .hero {
        flex-direction: column !important;
        padding: 40px 16px !important;
        text-align: center !important;
    }

    .hero-content {
        max-width: 100% !important;
        margin-bottom: 24px !important;
    }

    .hero-title {
        font-size: 1.8em !important;
    }

    .hero-desc {
        font-size: 1em !important;
    }

    .hero-img {
        max-width: 100% !important;
        height: auto !important;
    }

    /* How it works */
    .how-steps {
        flex-direction: column !important;
        gap: 24px !important;
    }

    .how-step {
        max-width: 100% !important;
    }

    .how-icon {
        font-size: 2.5em !important;
    }
}

/* ========== MOBILE SMALL (<480px) ========== */
@media (max-width: 480px) {
    body {
        font-size: 15px;
    }

    .container,
    .profile-container,
    .consultants-container {
        padding: 0 12px !important;
    }

    .card {
        padding: 16px !important;
    }

    h1 {
        font-size: 1.3em !important;
    }

    h2 {
        font-size: 1.2em !important;
    }

    .btn,
    button {
        padding: 12px 20px !important;
        font-size: 0.95em !important;
    }

    .cover-image {
        height: 100px !important;
    }

    .profile-avatar-large {
        width: 80px !important;
        height: 80px !important;
        font-size: 2.5em !important;
        margin-top: -40px !important;
    }
}

/* ========== LANDSCAPE MODE ========== */
@media (max-width: 768px) and (orientation: landscape) {
    .cover-image {
        height: 80px !important;
    }

    .hero {
        padding: 24px 16px !important;
    }

    .profile-avatar-large {
        margin-top: -30px !important;
    }
}

/* ========== PREVENT ZOOM ON DOUBLE TAP ========== */
@media (max-width: 768px) {
    * {
        touch-action: manipulation;
    }
}

/* ========== SMOOTH SCROLLING ========== */
@media (max-width: 768px) {
    html {
        scroll-behavior: smooth;
    }

    body {
        -webkit-overflow-scrolling: touch;
    }
}

/* ========================================
   ðŸ“± HEADER/FOOTER MOBILE FIX
   ======================================== */

/* ========== NAVBAR MOBILE ========== */
@media (max-width: 768px) {
    /* Fix overflow orizzontale */
    html, body {
        overflow-x: hidden !important;
        width: 100% !important;
        max-width: 100vw !important;
    }

    body {
        padding-top: 0 !important; /* Rimuovi padding iniziale */
    }

    /* Navbar: NON fissa, scorre con la pagina */
    .navbar {
        position: relative !important; /* Cambiato da fixed */
        padding: 12px 16px !important;
        flex-direction: column !important;
        gap: 12px !important;
        width: 100% !important;
        box-sizing: border-box !important;
        z-index: 1000 !important;
    }

    /* Navbar Left: stack verticale */
    .navbar-left {
        flex-direction: column !important;
        gap: 12px !important;
        width: 100% !important;
        align-items: center !important;
    }

    /* Logo + Helpy: piÃ¹ piccolo */
    .navbar-logo-link {
        gap: 8px !important;
        width: auto !important;
    }

    .navbar-logo {
        height: 32px !important;
        width: auto !important;
    }

    .navbar-title {
        font-size: 22px !important;
    }

    /* Trova Consulenti: full width */
    .navbar-consulenti-link {
        width: 100% !important;
        max-width: 100% !important;
        justify-content: center !important;
        padding: 10px 16px !important;
        font-size: 15px !important;
        box-sizing: border-box !important;
    }

    /* Navbar Right: full width */
    .navbar-links {
        width: 100% !important;
        flex-direction: column !important;
        gap: 8px !important;
    }

    .navbar-link,
    .register-btn,
    .logout-btn {
        width: 100% !important;
        max-width: 100% !important;
        text-align: center !important;
        justify-content: center !important;
        padding: 12px 20px !important;
        font-size: 15px !important;
        box-sizing: border-box !important;
    }

    /* Fix per tutti gli elementi della navbar */
    .navbar * {
        box-sizing: border-box !important;
    }

    /* Container principali: no overflow */
    .container,
    .main-container,
    .profile-container,
    .consultants-container {
        padding: 0 16px !important;
        margin-top: 16px !important;
        width: 100% !important;
        max-width: 100vw !important;
        box-sizing: border-box !important;
        overflow-x: hidden !important;
    }
}

/* ========== NAVBAR MOBILE SMALL (<480px) ========== */
@media (max-width: 480px) {
    .navbar {
        padding: 10px 12px !important;
    }

    .navbar-logo {
        height: 28px !important;
    }

    .navbar-title {
        font-size: 20px !important;
    }

    .navbar-consulenti-link {
        font-size: 14px !important;
        padding: 9px 14px !important;
    }

    .navbar-link,
    .register-btn,
    .logout-btn {
        font-size: 14px !important;
        padding: 11px 18px !important;
    }

    .container,
    .profile-container,
    .consultants-container {
        padding: 0 12px !important;
    }
}

/* ========== FOOTER MOBILE ========== */
@media (max-width: 768px) {
    /* Footer: padding ridotto */
    .footer {
        padding: 40px 20px 24px !important;
        margin-top: 40px !important;
        width: 100% !important;
        box-sizing: border-box !important;
    }

    /* Footer Content: 1 colonna */
    .footer-content {
        grid-template-columns: 1fr !important;
        gap: 32px !important;
        text-align: center !important;
        width: 100% !important;
    }

    /* Sezioni footer: centrate */
    .footer-section {
        text-align: center !important;
        width: 100% !important;
    }

    .footer-section h3 {
        font-size: 18px !important;
        margin-bottom: 12px !important;
    }

    .footer-section p {
        font-size: 15px !important;
        word-wrap: break-word !important;
    }

    .footer-section ul {
        display: flex !important;
        flex-direction: column !important;
        align-items: center !important;
        gap: 10px !important;
        padding: 0 !important;
    }

    .footer-section li {
        margin-bottom: 0 !important;
        list-style: none !important;
    }

    .footer-section a {
        font-size: 15px !important;
        justify-content: center !important;
    }

    /* Footer bottom */
    .footer-bottom {
        font-size: 13px !important;
        padding-top: 24px !important;
        line-height: 1.6 !important;
        word-wrap: break-word !important;
    }
}

/* ========== FOOTER MOBILE SMALL (<480px) ========== */
@media (max-width: 480px) {
    .footer {
        padding: 32px 16px 20px !important;
    }

    .footer-content {
        gap: 24px !important;
    }

    .footer-section h3 {
        font-size: 17px !important;
    }

    .footer-section p,
    .footer-section a {
        font-size: 14px !important;
    }

    .footer-bottom {
        font-size: 12px !important;
    }
}

/* ========== FIX OVERFLOW GLOBALE ========== */
@media (max-width: 768px) {
    /* Previeni overflow orizzontale su TUTTO */
    * {
        box-sizing: border-box !important;
    }

    /* Nascondi scroll orizzontale */
    html {
        overflow-x: hidden !important;
    }

    body {
        overflow-x: hidden !important;
        position: relative !important;
    }

    /* Fix per elementi che potrebbero causare overflow */
    img,
    video,
    iframe {
        max-width: 100% !important;
        height: auto !important;
    }

    /* Fix per elementi con margin negativi */
    [style*="margin-left: -"],
    [style*="margin-right: -"] {
        margin-left: 0 !important;
        margin-right: 0 !important;
    }

    /* Fix per width: 100vw */
    [style*="width: 100vw"],
    [style*="width:100vw"] {
        width: 100% !important;
    }
}